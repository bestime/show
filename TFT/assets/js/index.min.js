$(function(){function i(i){if(!n(i)){"string"==typeof i&&(i=JSON.parse(i));var s=$(".bottom"),a=$(".lineup .list"),l=$(".equipment .list"),c="",o="",r="",d=i.list,g=i.lineup,m=i.equipment;if(!n(d)){for(var h=0;h<d.length;h++)0!=d[h].bar?c+='<div class="item">                        <div class="progress"><div style="width: '+d[h].bar+'%;"></div></div>                        <div class="tip">'+e(d[h].desc,"匹配度")+"</div>                    </div>":c+='<div class="item"></div>';s.html(c).animate({opacity:1},50,"linear")}if(!n(g)){for(h=0;h<g.length;h++)o+='<div class="item"><img src="'+g[h].img+'" /></div>';a.html(o),$(".lineup").animate({opacity:1},50,"linear")}if(!n(m)){for(h=0;h<m.length;h++){r+='<div class="item">                    <div class="main"><img src="'+m[h].main+'" /></div>                    <div class="equal"><i class="icon icon-equal"></i></div>';for(var u=0;u<m[h].child.length;u++)r+='<div class="child"><img src="'+m[h].child[u].img+'" /></div>';r+="</div>"}l.html(r)}t()}}function t(){for(var i=$(".equipment"),t=i.find(".item"),e=i.find(".list"),n=[],s=38,a=38*Math.ceil(t.length/2),o=0;o<t.length;o++)n.push($(t[o]).width());n.sort(function(i,t){return t-i}),t.css({width:n[0]}),n.length>2&&(e.css({width:2*n[0]+10}),i.css({width:"auto"})),i.css({opacity:1}),i.off("mouseenter").on("mouseenter",function(){clearInterval(c),l=setTimeout(function(){e.animate({height:a+"px",opacity:1},50,"linear")},30)}),i.off("mouseleave").on("mouseleave",function(){clearInterval(l),c=setTimeout(function(){e.animate({height:(i.find(".close").hasClass("expend")?1:s)+"px",opacity:i.find(".close").hasClass("expend")?0:1},50,"linear")},30)})}function e(i,t){i=String(i),t=t||"";var e=t.length;return e>0&&-1!=i.indexOf(t)?i.replace(new RegExp(t,"g"),"<span>"+t+"</span>"):i}function n(i){return Array.isArray(i)?!i.length:"object"==typeof i?"{}"==JSON.stringify(i):"string"==typeof i?(i=i.replace(/(^\s*)|(\s*$)/g,""),"undefined"==i||!i):!i}var s=1!=debug?{}:{list:[{bar:2,desc:",职业"},{bar:0,desc:""},{bar:2,desc:",升级"},{bar:0,desc:""},{bar:0,desc:""}],lineup:[{img:"http://game.gtimg.cn/images/lol/tft/cham-icons/"}],equipment:[{main:"http://game.gtimg.cn/images/lol/tft/cham-icons/236.png",child:[{img:"http://game.gtimg.cn/images/lol/tft/items/3089.png"},{img:"http://game.gtimg.cn/images/lol/tft/items/3089.png"},{img:"http://game.gtimg.cn/images/lol/tft/items/3285.png"}]}]};window.GetData=window.GetData||function(i){if(1==i)return s};var a="";setInterval(function(){var t=GetData("1");a!=t&&(i(t),a=t)},1e3),ns.each(ns.getByClass("lynnduihuakuang"),function(i){ns.drag({oHandle:i,oWrapper:i})}),$(".lynnduihuakuang .close").click(function(){var i=$(this).parent();$(this).hasClass("expend")?($(this).removeClass("expend"),i.hasClass("equipment")||i.find(".list").css({overflow:"auto"}),i.find(".list").css({height:"auto",opacity:1})):($(this).addClass("expend"),i.find(".list").css({height:1,overflow:"hidden",opacity:0}))});var l=null,c=null});