function getEquipmentIcon(e){return"http://game.gtimg.cn/images/lol/tft/items/"+e+".png"}function getHeroIcon(e){return"http://game.gtimg.cn/images/lol/tft/cham-icons/"+e+".png"}function getHeroByName(e){e=ns.trim(e);var n=null;for(var i in TFTHeroesData_List){var s=TFTHeroesData_List[i];if(e===ns.trim(s.hero_name)){n=s;break}}return ns.clone(n)}function findEquipmentById(e){var n=null;for(var i in TFTequipment_List)if(ns.trim(TFTequipment_List[i].equipmentId)===e){n=TFTequipment_List[i];break}return n=ns._Object(n),n.eq_name=ns.trim(n.eq_name),n.description=n.eq_effect,n.name=n.name||n.eq_name,n.pic=n.pic||getEquipmentIcon(n.equipmentId),ns.clone(n)}function findEquipmentName(e){var n=null;for(var i in TFTequipment_List)if(ns.trim(TFTequipment_List[i].eq_name)===e){n=TFTequipment_List[i];break}return n=ns._Object(n),n.eq_name=ns.trim(n.eq_name),n.description=n.eq_effect,n.name=n.name||n.eq_name,n.pic=n.pic||getEquipmentIcon(n.equipmentId),ns.clone(n)}function equipmentId(e){var n=findEquipmentById(e);return equipment(n.name)}function equipment(e){var n=findEquipmentName(e);if(n){n.mix=[];var i=[];for(var s in ns.each(ns.split(n.eq_formula,","),function(e){n.mix.push(findEquipmentById(e))}),TFTequipment_List){var t=TFTequipment_List[s],a=ns.split(t.eq_formula,","),c=!1;if(ns.each(a,function(e){if(e===n.equipmentId)return c=!0}),c){var l=0;ns.each(a,function(e){var s=findEquipmentById(e);s&&(e===n.equipmentId?(l++,l>1&&i.push({add:s,to:t})):i.push({add:s,to:t}))})}}var o={"暴风大剑":1,"反曲之弓":2,"无用大棒":3,"女神之泪":4,"巨人腰带":5,"锁子甲":6,"负极斗篷":7,"铲子":8};return i.sort(function(e,n){return o[e.add.name]>o[n.add.name]?1:-1}),n.group=i,n}}function SelectEquipment(e,n){function i(){u=!0,ns.addClass(c,"active"),clearTimeout(a),a=setTimeout(function(){bus.clear(t),t=bus.on("select-z2wb",s)},50)}function s(){bus.clear(t),u=!1,ns.removeClass(c,"active")}var t,a,c=document.getElementById(e);ns.addClass(c,"select-equipment");var l="",o=ns.mapJson(TFTequipment_List,function(e,n){return e.map_key=n,e});o.unshift({equipmentId:null,eq_name:"全部"}),console.log("list",o),ns.each(o,function(e){!1!==e.is_equiment&&(e.equipmentId?l+='<div class="eqz-part tab02-part">          <img src="'+getEquipmentIcon(e.equipmentId)+'"/>          <div class="tab02-info">            <div class="font16">'+e.eq_name+"</div>            <div>"+e.eq_effect+"</div>          </div>        </div>":l+='<div class="eqz-part tab02-part" style="background:rgba(0,0,0,0.8);"><span>全部</span></div>')}),c.innerHTML='    <div class="seq-title">      <div class="xz"><span>选择装备</span></div>    </div>    <div class="seq-more">'+l+"</div>  ";var u=!1,m=ns.getByClass("xz")[0];ns.getByClass("seq-title",c)[0].onclick=function(){u?s():i()},ns.each(ns.getByClass("eqz-part",c),function(e,i){e.onclick=function(){s();var e=o[i];if(e.equipmentId){var t=e.equipmentId;m.innerHTML='<img src="'+getEquipmentIcon(t)+'"/><span>'+findEquipmentById(t).eq_name+"</span>"}else m.innerHTML="<span>"+e.eq_name+"</span>";ns._Function(n)(e)}})}function SelectCommon(e){function n(){d=!0,u.style.display="block",ns.addClass(s,"open"),setTimeout(function(){bus.clear(o),o=bus.on("select-common",i)},50)}function i(){bus.clear(o),d=!1,u.style.display="none",ns.removeClass(s,"open")}var s=e.el,t=e.onRender,a=ns._Function(e.onSelect),c="";ns.addClass(s,"common-select-wrapper");const l=[{key:null,label:"全部"}].concat(ns._Array(e.list));ns.each(l,function(e){c+='<li class="cms-part">',ns.isFunction(t)?c+=t(e):c+=e.label,c+="</li>"}),race_html='    <div class="cms-tit">      <div class="cms-1dw5">'+e.title+'</div>      <i class="cms-jianton"></i>    </div>    <ul class="cms-more" style="display:none;">'+c+"</ul>  ",s.innerHTML=race_html+"</div>";var o,u=ns.getByClass("cms-more",s)[0],m=ns.getByClass("cms-tit",s)[0],r=ns.getByClass("cms-1dw5",s)[0],p=ns.getByClass("cms-part",s),d=!1;m.onclick=function(){d?i():n()},ns.each(p,function(n,s){n.onclick=function(){ns.onlyOneAddClass(p,s,"active");var n=l[s];a(n,s),r.innerHTML=null===n.key?e.title:n.label,i()}})}function SearchBox(e){var n=e.el,i=ns._Function(e.onEnter),s=ns._Function(e.onInput);ns.addClass(n,"input-pg-wrapper"),n.innerHTML='    <i class="jiete5w"></i>    <div class="iptbox"><input spellcheck="false" placeholder="'+e.placeholder+'"/></div>  ';var t,a=n.getElementsByTagName("input")[0];a.onfocus=function(){ns.addClass(n,"focus"),t=bus.on("key-enter",function(){i(a.value)})},a.onblur=function(){ns.removeClass(n,"focus"),bus.clear(t)},a.oninput=function(){s(a.value)}}function SelectATKRange(e,n){function i(e){return""===e||void 0===e?"":(e=ns._Number(e),e<0&&(e=0),e)}function s(){l=!0,ns.addClass(e,"active"),clearTimeout(u),u=setTimeout(function(){bus.clear(o),o=bus.on("select-atk-range",t)},50)}function t(){bus.clear(o),l=!1,ns.removeClass(e,"active")}var a,c,l=!1;ns.addClass(e,"select-atk-wrapper"),e.innerHTML='    <div class="s-rang-tit">      <i class="dglw15e"></i>      <div class="kow1548w">选择攻击距离</div>    </div>    <div class="gk-e5we">      <div class="dmkow15">最小距离</div>      <div class="ko1g5w small"><input/></div>      <div class="dmkow15">最大距离</div>      <div class="ko1g5w big"><input/></div>    </div>  ',n=ns._Function(n);var o,u,m=ns.getByClass("small",e)[0].getElementsByTagName("input")[0],r=ns.getByClass("big",e)[0].getElementsByTagName("input")[0];ns.getByClass("gk-e5we",e)[0].onclick=ns.prevent,ns.getByClass("s-rang-tit",e)[0].onclick=function(){l?t():s()},r.oninput=function(){c=i(this.value),c<a&&(c=a),r.value=c,n(a,c)},m.oninput=function(){a=i(this.value),m.value=a,n(a,c)}}"undefined"!=typeof TFTequipment_List&&(TFTequipment_List["随机几率"]={eq_name:"随机几率",pic:"images/images/cstyle/TiersIcon.png",description:"",des_pic:"images/self/suiji.png",is_equiment:!1},TFTequipment_List["种族"]={eq_name:"种族",pic:"images/images/cstyle/Origins.png",description:"",des_pic:"images/self/zhognzhu.png",is_equiment:!1},TFTequipment_List["职业"]={eq_name:"职业",pic:"images/images/cstyle/Classes.png",description:"",des_pic:"images/self/zhiye.png",is_equiment:!1});var JobList=[{key:"1",label:"法师",iconname:"sorcerer"},{key:"2",label:"刺客",iconname:"assassin"},{key:"3",label:"剑士",iconname:"blademaster"},{key:"4",label:"斗士",iconname:"brawler"},{key:"5",label:"元素使",iconname:"elementalist"},{key:"6",label:"护卫",iconname:"guardian"},{key:"7",label:"枪手",iconname:"gunslinger"},{key:"8",label:"骑士",iconname:"knight"},{key:"9",label:"游侠",iconname:"ranger"},{key:"10",label:"换形师",iconname:"assassin"}],racePic={"恶魔":"demon","龙":"dragon","浪人":"exile","极地":"glacial","帝国":"imperial","忍者":"ninja","贵族":"noble","暗影":"phantom","海盗":"pirate","机器人":"robot","虚空":"void","狂野":"wild","约德尔人":"yordle"};