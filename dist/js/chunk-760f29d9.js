(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-760f29d9"],{"14da":function(t,i,e){},"36bd":function(t,i,e){"use strict";var n=e("4bf8"),s=e("77f1"),a=e("9def");t.exports=function(t){var i=n(this),e=a(i.length),l=arguments.length,o=s(l>1?arguments[1]:void 0,e),h=l>2?arguments[2]:void 0,r=void 0===h?e:s(h,e);while(r>o)i[o++]=t;return i}},"3b1c":function(t,i,e){"use strict";var n=e("f14f"),s=e.n(n);s.a},"6c7b":function(t,i,e){var n=e("5ca1");n(n.P,"Array",{fill:e("36bd")}),e("9c6c")("fill")},e545:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"eg-scroll"},[e("Scroll",{staticStyle:{height:"100%"},attrs:{pullDownRefresh:!0,pullUpLoad:!0,updatetimes:t.updatetimes},on:{pullingDown:t.pullingDown,pullingUp:t.pullingUp}},t._l(t.total,function(i){return e("div",{key:i,staticClass:"test02"},[t._v("\n      第"+t._s(t.updatetimes)+"次： "+t._s(i)+"\n    ")])}),0)],1)},s=[],a=e("fac2"),l={components:{Scroll:a["a"]},data:function(){return{updatetimes:0,lodTimes:0,total:50}},mounted:function(){var t=this;this.$nextTick(function(){t.updatetimes++})},methods:{pullingDown:function(t){var i=this;setTimeout(function(){i.updatetimes++,t()},2e3)},pullingUp:function(t){var i=this;setTimeout(function(){i.total>80?t("没有更多数据"):(i.lodTimes++,i.total+=20,t())},2e3)}}},o=l,h=(e("ff0b"),e("2877")),r=Object(h["a"])(o,n,s,!1,null,null,null);i["default"]=r.exports},f14f:function(t,i,e){},fac2:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"wrapper",staticClass:"cy-scroll-box"},[e("div",{staticClass:"cy-scroll-content"},[t._t("default"),t.pullUpLoad?e("div",{staticClass:"scroll-up-box"},[t.noData?e("div",{staticClass:"noData"},[e("span",[t._v(t._s(t.noData))])]):e("div",{staticClass:"scroll-up-box-lod",style:{width:t.LoadingSize+"px",height:t.LoadingSize+"px"}},[t.uping?e("Loading",{attrs:{size:t.LoadingSize}}):t._e()],1)]):t._e()],2),t.pullDownRefresh?e("div",{staticClass:"scroll-down-box",style:{height:t.sdb_height+"px"}},[t.downing?e("Loading",{attrs:{size:t.LoadingSize}}):e("bubble",{attrs:{y:t.bubbleY}})],1):t._e()])},s=[],a=(e("c5f6"),e("1fba")),l=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("canvas",{ref:"bubble",style:t.style,attrs:{width:t.width,height:t.height}})},o=[],h=(e("6c7b"),{props:{y:{type:Number,default:0}},data:function(){return{width:50,height:80}},computed:{distance:function(){return Math.max(0,Math.min(this.y*this.ratio,this.maxDistance))},style:function(){return"width:".concat(this.width/this.ratio,"px;height:").concat(this.height/this.ratio,"px")}},created:function(){this.ratio=window.devicePixelRatio,this.width*=this.ratio,this.height*=this.ratio,this.initRadius=18*this.ratio,this.minHeadRadius=12*this.ratio,this.minTailRadius=5*this.ratio,this.initArrowRadius=10*this.ratio,this.minArrowRadius=6*this.ratio,this.arrowWidth=3*this.ratio,this.maxDistance=40*this.ratio,this.initCenterX=25*this.ratio,this.initCenterY=25*this.ratio,this.headCenter={x:this.initCenterX,y:this.initCenterY}},mounted:function(){this._draw()},methods:{_draw:function(){var t=this.$refs.bubble,i=t.getContext("2d");i.clearRect(0,0,t.width,t.height),this._drawBubble(i),this._drawArrow(i)},_drawBubble:function(t){t.save(),t.beginPath();var i=this.distance/this.maxDistance,e=this.initRadius-(this.initRadius-this.minHeadRadius)*i;this.headCenter.y=this.initCenterY-(this.initRadius-this.minHeadRadius)*i,t.arc(this.headCenter.x,this.headCenter.y,e,0,Math.PI,!0);var n=this.initRadius-(this.initRadius-this.minTailRadius)*i,s={x:this.headCenter.x,y:this.headCenter.y+this.distance},a={x:s.x-n,y:s.y},l={x:a.x,y:a.y-this.distance/2};t.quadraticCurveTo(l.x,l.y,a.x,a.y),t.arc(s.x,s.y,n,Math.PI,0,!0);var o={x:this.headCenter.x+e,y:this.headCenter.y},h={x:s.x+n,y:o.y+this.distance/2};t.quadraticCurveTo(h.x,h.y,o.x,o.y),t.fillStyle="rgb(170,170,170)",t.fill(),t.strokeStyle="rgb(153,153,153)",t.stroke(),t.restore()},_drawArrow:function(t){t.save(),t.beginPath();var i=this.distance/this.maxDistance,e=this.initArrowRadius-(this.initArrowRadius-this.minArrowRadius)*i;t.arc(this.headCenter.x,this.headCenter.y,e-(this.arrowWidth-i),-Math.PI/2,0,!0),t.arc(this.headCenter.x,this.headCenter.y,e,0,3*Math.PI/2,!1),t.lineTo(this.headCenter.x,this.headCenter.y-e-this.arrowWidth/2+i),t.lineTo(this.headCenter.x+2*this.arrowWidth-2*i,this.headCenter.y-e+this.arrowWidth/2),t.lineTo(this.headCenter.x,this.headCenter.y-e+3*this.arrowWidth/2-i),t.fillStyle="rgb(255,255,255)",t.fill(),t.strokeStyle="rgb(170,170,170)",t.stroke(),t.restore()}},watch:{y:function(){this._draw()}}}),r=h,u=e("2877"),c=Object(u["a"])(r,l,o,!1,null,"34ce93c8",null),d=c.exports,f=e("8373"),p={name:"cy-scroll",components:{Bubble:d,Loading:f["a"]},props:{updatetimes:Number,click:{type:Boolean,default:!0},pullDownRefresh:{type:null,default:!1},pullUpLoad:{type:null,default:!1},mouseWheel:Boolean},data:function(){return{LoadingSize:20,bubbleY:0,pullDownInitTop:-50,downing:!1,uping:!1,sdb_height:0,noData:!1}},mounted:function(){var t=this;this.$nextTick(function(){t.init()})},methods:{init:function(){this.scroll=new a["a"](this.$refs.wrapper,{scrollbar:!0,click:this.click,pullDownRefresh:this.pullDownRefresh,pullUpLoad:this.pullUpLoad,mouseWheel:this.mouseWheel}),this._initPullDown(),this._initScroll(),this._initPullUp()},update:function(){this.scroll&&this.scroll.refresh()},_initScroll:function(){var t=this;this.scroll.on("scroll",function(i){t.bubbleY=Math.max(0,i.y+t.pullDownInitTop),i.y<=0?(t.bubbleY=0,t.sdb_height=0,t.downing&&(t.downing=!1,t.scroll.finishPullDown())):(t.sdb_height=i.y,t.uping=!1)})},_initPullDown:function(){var t=this;this.pullDownRefresh&&this.scroll.on("pullingDown",function(){t.downing=!0,t.$emit("pullingDown",function(){t.scroll.finishPullDown()})})},_initPullUp:function(){var t=this;this.pullUpLoad&&this.scroll.on("pullingUp",function(){t.uping=!0,t.$emit("pullingUp",function(i){t.uping=!1,t.noData=i,t.scroll.finishPullUp(),t.$nextTick(function(){t.update()})})})}},watch:{updatetimes:function(){this.update()}}},w=p,b=(e("3b1c"),Object(u["a"])(w,n,s,!1,null,null,null)),g=b.exports;e.d(i,"a",function(){return y});var y=g},ff0b:function(t,i,e){"use strict";var n=e("14da"),s=e.n(n);s.a}}]);